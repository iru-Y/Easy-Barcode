<section class="scanned-codes">
  <h2 class="scanned-title">C贸digos Escaneados</h2>
  <div class="last-scan">
    @for (item of barcodes; track $index) {
    <div class="scan-item">
      <div class="scan-info">
        <p class="barcode-text">{{ item.filename }}</p>
        <p class="scan-time">
          Escaneado em {{ item.createdAt | date : "dd/MM/yyyy HH:mm" }}
        </p>
      </div>
      <button class="btn-action" (click)="openModal(item)">
        <img
          ngSrc="/eye-icon.png"
          alt="Visualizar c贸digos"
          width="20"
          height="20"
        />
      </button>
    </div>
    }
  </div>
</section>

@if (modalOpen) {
<div class="modal-overlay">
  <div class="modal">
    <h3 class="modal-title">C贸digos Escaneados</h3>
    <ul class="barcode-list">
      @for (code of code; track $index) {
      <li class="barcode-item">
        {{ code }}
        <button
          class="copy-btn"
          (click)="copyToClipboard(code)"
          aria-label="Copiar c贸digo"
        >
          <img ngSrc="/copy.png" alt="copy" width="20" height="20" />
        </button>
      </li>
      }
    </ul>

    <p class="scan-time">
      Escaneado em {{ selectedDate | date : "dd/MM/yyyy HH:mm" }}
    </p>
    <button class="close-modal" (click)="closeModal()">Fechar</button>
  </div>
</div>
}
